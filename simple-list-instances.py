# This requires the user to have exported a json
# key to the machine running this and add to .bashrc
# export GOOGLE_APPLICATION_CREDENTIALS=<path_to_file>
# Remember that this will require the user to restart
# the terminal to pick it up.

from oauth2client.client import GoogleCredentials
credentials = GoogleCredentials.get_application_default()
from googleapiclient.discovery import build
service = build('compute', 'v1', credentials=credentials)
result = service.instances().list(project='jason-v', zone='us-central1-c').execute()


# The following line failed because instances was not defined.
# Syntax examples on cloud.google.com are inconsitent and don't
# build on the prior snippet...
#instances = list_instances(compute, project='jason-v', zone='us-central1-c')

# Take a look at what you get back. It's a lot.
print result

# Not sure if this is json, dict, list, etc, but seems like a list of K:V pairs.
'''
{u'items': [{u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'desktop1-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'fingerprint': u'42WmSpB8rSM='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/desktop1-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/ubuntu-os-cloud/global/licenses/ubuntu-1604-xenial'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'ubuntudesktop', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'P421HFFxBug='}, u'creationTimestamp': u'2017-03-30T07:49:45.801-07:00', u'id': u'3237791480943781350', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/desktop1-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'130.211.199.128'}], u'networkIP': u'10.128.0.12', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'desktop2-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'fingerprint': u'42WmSpB8rSM='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/desktop2-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/ubuntu-os-cloud/global/licenses/ubuntu-1604-xenial'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'ubuntudesktop', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'P421HFFxBug='}, u'creationTimestamp': u'2017-03-30T07:50:14.787-07:00', u'id': u'9203685107321316809', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/desktop2-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'35.184.78.54'}], u'networkIP': u'10.128.0.13', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-django1-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'items': [u'http-server', u'https-server'], u'fingerprint': u'6smc4R4d39I='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-django1-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7django', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'tdVXSxU9NDM='}, u'creationTimestamp': u'2017-03-30T07:47:02.830-07:00', u'id': u'1575371230216758409', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-django1-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'104.198.145.12'}], u'networkIP': u'10.128.0.6', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-django2-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'items': [u'http-server', u'https-server'], u'fingerprint': u'6smc4R4d39I='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-django2-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7django', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'tdVXSxU9NDM='}, u'creationTimestamp': u'2017-03-30T07:47:55.099-07:00', u'id': u'5379125173862573173', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-django2-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'104.155.174.1'}], u'networkIP': u'10.128.0.8', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-django3-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'items': [u'http-server', u'https-server'], u'fingerprint': u'6smc4R4d39I='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-django3-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7django', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'tdVXSxU9NDM='}, u'creationTimestamp': u'2017-03-30T07:48:52.124-07:00', u'id': u'7202824968427578427', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-django3-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'35.184.190.245'}], u'networkIP': u'10.128.0.10', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-ldap-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'items': [u'http-server', u'https-server'], u'fingerprint': u'6smc4R4d39I='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-ldap-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7ldap', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'E5jVE-jhHmk='}, u'creationTimestamp': u'2017-03-30T07:45:41.514-07:00', u'id': u'4296218392164082938', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-ldap-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'23.236.57.141'}], u'networkIP': u'10.128.0.2', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-nfs-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'fingerprint': u'42WmSpB8rSM='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-nfs-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7nfs', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'5UUeThNO0nE='}, u'creationTimestamp': u'2017-03-30T07:46:10.256-07:00', u'id': u'5662639143347332318', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-nfs-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'104.155.158.63'}], u'networkIP': u'10.128.0.4', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-plain-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'items': [u'http-server', u'https-server'], u'fingerprint': u'6smc4R4d39I='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-plain-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7plain', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'bjaVrIFl72g='}, u'creationTimestamp': u'2017-03-30T07:46:34.093-07:00', u'id': u'6374542170366452902', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-plain-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'35.184.230.148'}], u'networkIP': u'10.128.0.5', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-rsyslog-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'fingerprint': u'42WmSpB8rSM='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-rsyslog-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7sylog', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'OzQfBdtR-Jw='}, u'creationTimestamp': u'2017-03-30T07:45:12.485-07:00', u'id': u'8240265591402833687', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-rsyslog-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'130.211.127.108'}], u'networkIP': u'10.128.0.3', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-sql1-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'items': [u'http-server', u'https-server'], u'fingerprint': u'6smc4R4d39I='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-sql1-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7sql', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'mTxIhT6XZbY='}, u'creationTimestamp': u'2017-03-30T07:47:31.557-07:00', u'id': u'7073374950478881900', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-sql1-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'146.148.58.64'}], u'networkIP': u'10.128.0.7', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-sql2-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'items': [u'http-server', u'https-server'], u'fingerprint': u'6smc4R4d39I='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-sql2-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7sql', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'mTxIhT6XZbY='}, u'creationTimestamp': u'2017-03-30T07:48:23.743-07:00', u'id': u'8648247030225871960', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-sql2-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'107.178.213.156'}], u'networkIP': u'10.128.0.9', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}, {u'status': u'RUNNING', u'cpuPlatform': u'Intel Haswell', u'kind': u'compute#instance', u'machineType': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/machineTypes/f1-micro', u'name': u'server-sql3-troz', u'zone': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c', u'tags': {u'items': [u'http-server', u'https-server'], u'fingerprint': u'6smc4R4d39I='}, u'disks': [{u'index': 0, u'kind': u'compute#attachedDisk', u'autoDelete': True, u'deviceName': u'persistent-disk-0', u'boot': True, u'source': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/disks/server-sql3-troz', u'interface': u'SCSI', u'mode': u'READ_WRITE', u'licenses': [u'https://www.googleapis.com/compute/v1/projects/centos-cloud/global/licenses/centos-7'], u'type': u'PERSISTENT'}], u'scheduling': {u'automaticRestart': True, u'preemptible': False, u'onHostMaintenance': u'MIGRATE'}, u'canIpForward': False, u'serviceAccounts': [{u'scopes': [u'https://www.googleapis.com/auth/compute.readonly', u'https://www.googleapis.com/auth/devstorage.read_only'], u'email': u'770019468337-compute@developer.gserviceaccount.com'}], u'metadata': {u'items': [{u'value': u'centos7sql', u'key': u'machineinstalltype'}, {u'value': u'troz', u'key': u'myNetwork'}, {u'value': u'#!/bin/bash\nsudo su\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  true # Ubuntu has git. Do nothing.\nelse\n  yum install -y git\n  # Because the light install of CentOS doesn\'t have git.\nfi\n# Pull everything for next step\necho "git clone jmcs automation tools to /root/Automation" >> /root/INSTALL.LOG\ngit clone https://github.com/jmcsagdc/Automation_NTI-310.git \\\n  /root/Automation  >> /root/INSTALL.LOG 2>&1\nmyKernel=$(uname -r | grep \'generic\')\necho "myKernel is $myKernel"  >> /root/INSTALL.LOG\ncd /root/Automation\nchmod +x *\nif uname -r | grep \'generic\' 1>/dev/null\nthen\n  # Ubuntu Desktop\n  chmod -x *server*.sh\n  chmod -x *centos*.sh\n  ./install-common-tools-ubuntu.sh >> /root/INSTALL.LOG 2>&1\nelse\n  # CentOS Server\n  chmod -x *ubuntu*.sh\n  ./install-common-tools-centos.sh >> /root/INSTALL.LOG 2>&1\nfi\nchmod -x *.py\nchmod -x *.md\npython 3-machine-helper.py\n', u'key': u'startup-script'}], u'kind': u'compute#metadata', u'fingerprint': u'mTxIhT6XZbY='}, u'creationTimestamp': u'2017-03-30T07:49:20.297-07:00', u'id': u'5021603570633450527', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances/server-sql3-troz', u'networkInterfaces': [{u'kind': u'compute#networkInterface', u'network': u'https://www.googleapis.com/compute/v1/projects/jason-v/global/networks/default', u'accessConfigs': [{u'kind': u'compute#accessConfig', u'type': u'ONE_TO_ONE_NAT', u'name': u'external-nat', u'natIP': u'35.184.158.34'}], u'networkIP': u'10.128.0.11', u'subnetwork': u'https://www.googleapis.com/compute/v1/projects/jason-v/regions/us-central1/subnetworks/default', u'name': u'nic0'}]}], u'kind': u'compute#instanceList', u'id': u'projects/jason-v/zones/us-central1-c/instances', u'selfLink': u'https://www.googleapis.com/compute/v1/projects/jason-v/zones/us-central1-c/instances'}
'''

# Process that mess into something useful.

items=result['items']

for key in items:
    status=key['status']
    name=key['name']
    print name, key

# Prints something like this:
'''
desktop1-troz RUNNING
desktop2-troz RUNNING
server-django1-troz RUNNING
server-django2-troz RUNNING
server-django3-troz RUNNING
server-ldap-troz RUNNING
server-nfs-troz RUNNING
server-plain-troz RUNNING
server-rsyslog-troz RUNNING
server-sql1-troz RUNNING
server-sql2-troz RUNNING
server-sql3-troz RUNNING
'''
